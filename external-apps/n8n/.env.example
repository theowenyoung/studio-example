# n8n Workflow Automation Configuration

# AWS Parameter Store Prefix: /studio-dev/

# Encryption key for credentials (required, generate with: openssl rand -hex 32)
N8N_ENCRYPTION_KEY=

# Database Configuration (sensitive)
COMMON_POSTGRES_APP_USER=
COMMON_POSTGRES_APP_USER_PASSWORD=
DB_HOST=${CTX_PG_HOST:-postgres}
POSTGRES_DB=n8n${CTX_DB_SUFFIX:-}

DB_POSTGRESDB_HOST=${DB_HOST}
DB_POSTGRESDB_DATABASE=${POSTGRES_DB}
DB_POSTGRESDB_USER=${COMMON_POSTGRES_APP_USER}
DB_POSTGRESDB_PASSWORD=${COMMON_POSTGRES_APP_USER_PASSWORD}

# Public URL (dynamic, depends on environment)
# Local:   https://n8n.local.owenyoung.com
# Preview: https://n8n--feat-test.preview.owenyoung.com
# Prod:    https://n8n.owenyoung.com
N8N_HOST=n8n${CTX_DNS_SUFFIX:-}.${CTX_ROOT_DOMAIN:-local.owenyoung.com}
WEBHOOK_URL=https://${N8N_HOST}/
N8N_EDITOR_BASE_URL=https://${N8N_HOST}/

# Required for CI deploy summary (generate_deploy_summary reads PUBLIC_URL*)
PUBLIC_URL=https://${N8N_HOST}
