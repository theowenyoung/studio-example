# Outline Wiki Configuration
# AWS Parameter Store Prefix: /studio-dev/

# ==================== Required Secrets ====================

# Generate with: openssl rand -hex 32
OUTLINE_SECRET_KEY=
SECRET_KEY=${OUTLINE_SECRET_KEY}
# Generate with: openssl rand -hex 32
OUTLINE_UTILS_SECRET=
UTILS_SECRET=${OUTLINE_UTILS_SECRET}

# ==================== File Storage (AWS S3) ====================

COMMON_AWS_ACCESS_KEY_ID=
COMMON_AWS_SECRET_ACCESS_KEY=

# Mapped to Outline's expected env vars
AWS_ACCESS_KEY_ID=${COMMON_AWS_ACCESS_KEY_ID}
AWS_SECRET_ACCESS_KEY=${COMMON_AWS_SECRET_ACCESS_KEY}
AWS_REGION=us-west-2
AWS_S3_UPLOAD_BUCKET_NAME=YOUR_S3_BUCKET
AWS_S3_UPLOAD_BUCKET_URL=https://YOUR_S3_BUCKET.s3.us-west-2.amazonaws.com

# ==================== Database Configuration ====================

COMMON_POSTGRES_APP_USER=
COMMON_POSTGRES_APP_USER_PASSWORD=
DB_HOST=${CTX_PG_HOST:-postgres}
POSTGRES_DB=outline${CTX_DB_SUFFIX:-}

DATABASE_URL=postgres://${COMMON_POSTGRES_APP_USER}:${COMMON_POSTGRES_APP_USER_PASSWORD}@${DB_HOST}:5432/${POSTGRES_DB}

# ==================== Redis Configuration ====================
# Use database 1 to isolate from other apps sharing the same Redis

COMMON_REDIS_PASSWORD=
REDIS_HOST=${CTX_REDIS_HOST:-redis}
REDIS_URL=redis://default:${COMMON_REDIS_PASSWORD}@${REDIS_HOST}:6379/1

# ==================== URL Configuration ====================

OUTLINE_HOST=outline${CTX_DNS_SUFFIX:-}.${CTX_ROOT_DOMAIN:-local.owenyoung.com}
URL=https://${OUTLINE_HOST}

# Required for CI deploy summary
PUBLIC_URL=${URL}

# ==================== Authentication (Google OAuth) ====================
# Only Google Workspace users can sign in (configure as "Internal" in Google Cloud Console)
# Callback URL: https://outline.owenyoung.com/auth/google.callback

TONORMAL_INTERNAL_GOOGLE_CLIENT_ID=
TONORMAL_INTERNAL_GOOGLE_CLIENT_SECRET=
GOOGLE_CLIENT_ID=${TONORMAL_INTERNAL_GOOGLE_CLIENT_ID}
GOOGLE_CLIENT_SECRET=${TONORMAL_INTERNAL_GOOGLE_CLIENT_SECRET}


# [Deploy Config]
# 设为 false 暂时禁用部署（代码保留在 main，但不会部署）
DEPLOY_ENABLED=false
